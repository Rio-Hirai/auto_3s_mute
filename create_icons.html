<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>アイコン生成</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f5f5f5;
      }
      .icon-generator {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        margin: 0 auto;
      }
      canvas {
        border: 1px solid #ddd;
        margin: 10px;
      }
      .download-section {
        margin-top: 20px;
      }
      button {
        background: #4caf50;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        margin: 5px;
      }
      button:hover {
        background: #45a049;
      }
    </style>
  </head>
  <body>
    <div class="icon-generator">
      <h2>Auto 3s Mute アイコン生成</h2>
      <p>以下のボタンをクリックして、各サイズのアイコンを生成・ダウンロードしてください。</p>

      <div class="download-section">
        <h3>16x16px アイコン</h3>
        <canvas id="icon16" width="16" height="16"></canvas>
        <button onclick="generateIcon(16)">16px アイコンを生成</button>
        <button onclick="downloadIcon('icon16', 16)">ダウンロード</button>
      </div>

      <div class="download-section">
        <h3>48x48px アイコン</h3>
        <canvas id="icon48" width="48" height="48"></canvas>
        <button onclick="generateIcon(48)">48px アイコンを生成</button>
        <button onclick="downloadIcon('icon48', 48)">ダウンロード</button>
      </div>

      <div class="download-section">
        <h3>128x128px アイコン</h3>
        <canvas id="icon128" width="128" height="128"></canvas>
        <button onclick="generateIcon(128)">128px アイコンを生成</button>
        <button onclick="downloadIcon('icon128', 128)">ダウンロード</button>
      </div>

      <div style="margin-top: 30px; padding: 15px; background: #e8f5e8; border-radius: 4px">
        <h4>使用方法:</h4>
        <ol>
          <li>各サイズのアイコンを生成してください</li>
          <li>「ダウンロード」ボタンでPNGファイルをダウンロードしてください</li>
          <li>ダウンロードしたファイルを <code>icons/</code> フォルダに配置してください</li>
          <li>ファイル名を <code>icon16.png</code>, <code>icon48.png</code>, <code>icon128.png</code> に変更してください</li>
        </ol>
      </div>
    </div>

    <script>
      function generateIcon(size) {
        const canvas = document.getElementById(`icon${size}`);
        const ctx = canvas.getContext("2d");

        // 背景をクリア
        ctx.clearRect(0, 0, size, size);

        // 背景グラデーション
        const gradient = ctx.createLinearGradient(0, 0, size, size);
        gradient.addColorStop(0, "#667eea");
        gradient.addColorStop(1, "#764ba2");

        // 背景円
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.arc(size / 2, size / 2, size / 2 - 2, 0, 2 * Math.PI);
        ctx.fill();

        // マイクアイコンを描画
        ctx.fillStyle = "white";
        ctx.strokeStyle = "white";
        ctx.lineWidth = Math.max(1, size / 16);

        // マイクのボディ
        const micWidth = size * 0.3;
        const micHeight = size * 0.4;
        const micX = (size - micWidth) / 2;
        const micY = size * 0.25;

        ctx.fillRect(micX, micY, micWidth, micHeight);

        // マイクのスタンド
        const standWidth = size * 0.1;
        const standHeight = size * 0.2;
        const standX = (size - standWidth) / 2;
        const standY = micY + micHeight;

        ctx.fillRect(standX, standY, standWidth, standHeight);

        // ミュートの斜線
        ctx.strokeStyle = "#ff4444";
        ctx.lineWidth = Math.max(2, size / 8);
        ctx.beginPath();
        ctx.moveTo(size * 0.2, size * 0.2);
        ctx.lineTo(size * 0.8, size * 0.8);
        ctx.stroke();
      }

      function downloadIcon(canvasId, size) {
        const canvas = document.getElementById(canvasId);
        const link = document.createElement("a");
        link.download = `icon${size}.png`;
        link.href = canvas.toDataURL();
        link.click();
      }

      // ページ読み込み時にアイコンを生成
      window.onload = function () {
        generateIcon(16);
        generateIcon(48);
        generateIcon(128);
      };
    </script>
  </body>
</html>
